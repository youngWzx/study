const http = require('http');
const assert = require('assert');
module.exports=class{
  constructor(){
    this.__queue = [];
    this.__server = http.createServer((req,res)=>{
      const ctx = {
        req,
        res,
      }
    });
  }
  listen(port=80){
    this.__server.listen(port);
  }
  use(fn)=>{
    assert(typeof fn == 'function','参数必须是一个函数');
    let str = fn.constructor.toString();
    if (str.indexOf('GeneratorFunction')!=-1) {
      console.warn('koa中generator已经抛弃了，你赶紧改改吧');
    }
    this.__queue.push(fn);
  }
}